{% extends "layout.html" %}

{% block lb-block %}
<div>
    Преподаватель: <a href="">{{ course.teacher }}</a>
</div>
<div class="mb-3">
    Время пары: {{ course.get_day }}, {{ course.time }}
</div>
<table class="table table-sm table-borderless table-striped mb-0 table-responsive-md" id="stable">
<caption>Список студентов</caption>
<thead>
    <tr class="d-flex">
    <th class="th-sm col-1 pr-1 pl-3">#</th>
    <th class="th-sm col-3 pr-1 pl-3">Фамилия</th>
    <th class="th-sm col-2 pr-1 pl-3">Имя</th>
    <th class="th-sm col-2 pr-1">Отчество</th>
    <th class="th-sm col-2 pr-1 pl-3">Группа</th>
    <th class="th-sm col-2 pr-1 pl-3">Баллов</th>
    </tr>
</thead>
<tbody>
{% for student in students %}
<div>
<tr class="d-flex">
    <td class="col-1 pr-1">{{ forloop.counter }}</td>
    <td class="col-3 pr-1"><a href="">{{ student.user.last_name }}</a></td>
    <td class="col-2 pr-1">{{ student.user.first_name }}</td>
    <td class="col-2 pr-1">{{ student.user.patronymic }}</td>
    <td class="col-2 pr-1"><a href="{% url 'group' pk=student.group.pk %}">{{ student.group }}</a></td>
    <td class="col-2 pr-1">76</td>
</tr>
</div>
{% empty %}
    Список пуст.
{% endfor %}
</tbody>
</table>
{% if tasks %}
<hr class="mt-1">
<table class="table table-sm table-borderless table-striped mb-0 table-responsive-md" id="ttable">
<caption>Список заданий</caption>
<thead>
    <tr class="d-flex">
    <th class="th-sm col-1 pr-1 pl-3">#</th>
    <th class="th-sm col-9 pr-1">Название</th>
    <th class="th-sm col-2 pr-1 pl-3">До</th>
    </tr>
</thead>
<tbody>
{% for task in tasks %}
<div>
<tr class="d-flex">
    <td class="col-1 pr-1">{{ forloop.counter }}</td>
    <td class="col-9 pr-1"><a href="{% url 'task' pk=task.pk %}">{{ task.name }}</a></td>
    <td class="col-2 pr-1">{{ task.end_date }}</td>
</tr>
</div>
{% endfor %}
</tbody>
</table>
{% endif %}

<script>
$(document).ready(function () {
$('#stable').DataTable({
"searching": false,
"paging": false,
"info": false,
columnDefs: [{
orderable: false,
targets: 3
}]
});
$('#ttable').DataTable({
"searching": false,
"paging": false,
"info": false,
columnDefs: [{
orderable: false,
targets: 1
}]
});
$('.dataTables_length').addClass('bs-select');
});
</script>
{% endblock %}
{% block rt-block %}

{% endblock %}